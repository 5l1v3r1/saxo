#!/usr/bin/env python3

# http://inamidst.com/saxo/
# Created by Sean B. Palmer

import json
import saxo

@saxo.pipe
def btc(arg):
    if arg:
        return "This command takes no argment"
    url = "https://api.bitcoincharts.com/v1/markets.json"
    page = saxo.request(url)
    data = json.loads(page["text"])
    for trade in data:
        if trade.get("symbol") == "btceUSD":
            return str(trade["avg"])[:6] + " USD (btce)"
    return "No data found"
